{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAaC,SAASC,cAAc,kBAIpCC,EAAc,sBAGpB,SAASC,IAEP,IAAMC,EAAaC,aAAaC,QAAQJ,GACxC,GAAIE,EAAY,CACd,IAAMG,EAAmBC,KAAKC,MAAML,GAIpC,OAFAL,EAAWW,MAAMC,MAAQJ,EAAiBG,MAC1CX,EAAWa,QAAQD,MAAQJ,EAAiBK,QACrCL,GAVXR,EAAWc,iBAAiB,QAASC,EAAAjB,EAAA,EAiBrC,SAAqBkB,GACnBC,EAAWD,EAAME,OAAOC,MAAQH,EAAME,OAAON,MAC7CN,aAAac,QAAQjB,EAAaM,KAAKY,UAAUJ,MAnBQ,MAa3Db,IAEA,IAAIa,EAAab,KAA6B,CAAEO,MAAO,GAAIE,QAAS,IAOpEb,EAAWc,iBAAiB,UAC5B,SAAsBE,GAGpB,GAFAA,EAAMM,kBAEFhB,aAAaiB,OAMf,OALA,IAAMC,EAAgBlB,aAAaC,QAAQJ,GACrCsB,EAAmBhB,KAAKC,MAAMc,GACpCE,QAAQC,IAAIF,GAKdT,EAAMY,cAAcC,QACnBvB,aAAawB,WAAW3B,GACzBc,EAAWN,MAAQ,GACnBM,EAAWJ,QAAU,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\nconst fieldDatas = document.querySelector('.feedback-form');\n\n\n\nconst STORAGE_KEY = 'feedback-form-state';\nfieldDatas.addEventListener('input', throttle(onInputText, 500));\n\nfunction checkingStorageForDatas() {\n\n  const savedDatas = localStorage.getItem(STORAGE_KEY);\n  if (savedDatas) {\n    const parsedSavedDatas = JSON.parse(savedDatas);\n\n    fieldDatas.email.value = parsedSavedDatas.email;\n    fieldDatas.message.value = parsedSavedDatas.message;\n    return parsedSavedDatas;\n  } \n}\ncheckingStorageForDatas();\n\nlet inputDatas = checkingStorageForDatas() || { email: '', message: '' };\n\nfunction onInputText(event) {\n  inputDatas[event.target.name] = event.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(inputDatas));\n}\n\nfieldDatas.addEventListener('submit', onFormSubmit)\nfunction onFormSubmit(event){\n  event.preventDefault()\n   \n  if (localStorage.length) {\n    const getSavedDatas = localStorage.getItem(STORAGE_KEY);\n    const parsedSubmitData = JSON.parse(getSavedDatas);\n    console.log(parsedSubmitData);\n    \n  } else {\n    return;\n  }\n  event.currentTarget.reset()\n   localStorage.removeItem(STORAGE_KEY);\n  inputDatas.email = '';\n  inputDatas.message = '';\n}"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$fieldDatas","document","querySelector","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$checkingStorageForDatas","savedDatas","localStorage","getItem","parsedSavedDatas","JSON","parse","email","value","message","addEventListener","$parcel$interopDefault","event","$b00c40859be242c5$var$inputDatas","target","name","setItem","stringify","preventDefault","length","getSavedDatas","parsedSubmitData","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.3b718956.js.map"}