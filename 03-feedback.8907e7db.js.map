{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAaC,SAASC,cAAc,kBAO1C,SAASC,IAEP,MAAMC,EAAaC,aAAaC,QALd,uBAMlB,GAAIF,EAAY,CAId,MAAMG,EAAmBC,KAAKC,MAAML,GAIpC,OAFAJ,EAAWU,MAAMC,MAAQJ,EAAiBG,MAC1CV,EAAWY,QAAQD,MAAQJ,EAAiBK,QACrCL,GAbXP,EAAWa,iBAAiB,QAASC,EAAAhB,EAAA,EAoBrC,SAAqBiB,GACnBC,EAAWD,EAAME,OAAOC,MAAQH,EAAME,OAAON,MAC7CN,aAAac,QAvBK,sBAuBgBX,KAAKY,UAAUJ,MAtBQ,MAgB3Db,IAEA,IAAIa,EAAab,KAA6B,CAAEO,MAAO,GAAIE,QAAS,IAOpEZ,EAAWa,iBAAiB,UAC5B,SAAsBE,GAGpB,GAFAA,EAAMM,kBAEFhB,aAAaiB,OAMf,OANuB,CACvB,MAAMC,EAAgBlB,aAAaC,QA/BnB,uBAgCVkB,EAAmBhB,KAAKC,MAAMc,GACpCE,QAAQC,IAAIF,GAKdT,EAAMY,cAAcC,QACnBvB,aAAawB,WAvCI,uBAwClBb,EAAWN,MAAQ,GACnBM,EAAWJ,QAAU","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\nconst fieldDatas = document.querySelector('.feedback-form');\n\n\n\nconst STORAGE_KEY = 'feedback-form-state';\nfieldDatas.addEventListener('input', throttle(onInputText, 500));\n\nfunction checkingStorageForDatas() {\n\n  const savedDatas = localStorage.getItem(STORAGE_KEY);\n  if (savedDatas) {\n    // fieldDatas.value = savedDatas;\n \n  \n    const parsedSavedDatas = JSON.parse(savedDatas);\n\n    fieldDatas.email.value = parsedSavedDatas.email;\n    fieldDatas.message.value = parsedSavedDatas.message;\n    return parsedSavedDatas;\n  } \n}\ncheckingStorageForDatas();\n\nlet inputDatas = checkingStorageForDatas() || { email: '', message: '' };\n\nfunction onInputText(event) {\n  inputDatas[event.target.name] = event.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(inputDatas));\n}\n\nfieldDatas.addEventListener('submit', onFormSubmit)\nfunction onFormSubmit(event){\n  event.preventDefault()\n   \n  if (localStorage.length) {\n    const getSavedDatas = localStorage.getItem(STORAGE_KEY);\n    const parsedSubmitData = JSON.parse(getSavedDatas);\n    console.log(parsedSubmitData);\n    \n  } else {\n    return;\n  }\n  event.currentTarget.reset()\n   localStorage.removeItem(STORAGE_KEY);\n  inputDatas.email = '';\n  inputDatas.message = '';\n}"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$fieldDatas","document","querySelector","$945622fd0f572e60$var$checkingStorageForDatas","savedDatas","localStorage","getItem","parsedSavedDatas","JSON","parse","email","value","message","addEventListener","$parcel$interopDefault","event","$945622fd0f572e60$var$inputDatas","target","name","setItem","stringify","preventDefault","length","getSavedDatas","parsedSubmitData","console","log","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.8907e7db.js.map"}